## ðŸ”– ê°œìš”
ES6ì—ì„œ ë„ìž…ëœ ì œë„ˆë ˆì´í„°ëŠ” ì½”ë“œ ë¸”ë¡ì˜ ì‹¤í–‰ì„ ì¼ì‹œ ì¤‘ì§€í–ˆë‹¤ê°€ í•„ìš”í•œ ì‹œì ì— ìž¬ê°œí•  ìˆ˜ ìžˆëŠ” íŠ¹ìˆ˜ í•¨ìˆ˜ì´ë‹¤.

ì œë„ˆë ˆì´í„°ì™€ ì¼ë°˜ í•¨ìˆ˜ì˜ ì°¨ì´ëŠ” ë¬´ì—‡ì¼ê¹Œ?

ì œë„ˆë ˆì´í„°ë¥¼ ì´ìš©í•´ ë¹„ë™ê¸° ì²˜ë¦¬ë¥¼ ë™ê¸° ì²˜ë¦¬ì²˜ëŸ¼ ë™ìž‘í•˜ëŠ” ì½”ë“œë¥¼ ìž‘ì„±í•  ìˆ˜ ìžˆì§€ë§Œ, ì½”ë“œê°€ ìž¥í™©í•´ì§€ê³  ê°€ë…ì„±ì´ ë‚˜ë¹ ì§„ë‹¤. ì´ë¥¼ ê·¹ë³µí•˜ê¸° ìœ„í•œ async/awaitì— ëŒ€í•´ì„œë„ ì•Œì•„ë³´ìž.

## ðŸ”– ì œë„ˆë ˆì´í„°
ì œë„ˆë ˆì´í„°ì™€ ì¼ë°˜ í•¨ìˆ˜ì˜ ì°¨ì´ëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.

1. ì œë„ˆë ˆì´í„° í•¨ìˆ˜ëŠ” í•¨ìˆ˜ í˜¸ì¶œìžì—ê²Œ í•¨ìˆ˜ ì‹¤í–‰ì˜ ì œì–´ê¶Œì„ ì–‘ë„í•  ìˆ˜ ìžˆìŒ
2. ì œë„ˆë ˆì´í„° í•¨ìˆ˜ëŠ” í•¨ìˆ˜ í˜¸ì¶œìžì™€ í•¨ìˆ˜ì˜ ìƒíƒœë¥¼ ì£¼ê³ ë°›ì„ ìˆ˜ ìžˆìŒ
3. ì œë„ˆë ˆì´í„° í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ë©´ ì œë„ˆë ˆì´í„° ê°ì²´ë¥¼ ë°˜í™˜ 
   
## ðŸ”– ì œë„ˆë ˆì´í„° í•¨ìˆ˜ì˜ ì •ì˜
ì œë„ˆë ˆì´í„° í•¨ìˆ˜ì˜ ì„ ì–¸ ë°©ë²•ì€ `function*`í‚¤ì›Œë“œ `yield` í‘œí˜„ì‹ì„ ì´ìš©í•œë‹¤.

```js
function* genDecFunc() {
    yield 1;
}

class MyClass {
    * genClsMethod() {
        yield 1;
    }
}
```

`*`ì˜ ìœ„ì¹˜ëŠ” function í‚¤ì›Œë“œì™€ í•¨ìˆ˜ ì´ë¦„ ì‚¬ì´ë¼ë©´ ì–´ë””ë“  ìƒê´€ ì—†ë‹¤. í•˜ì§€ë§Œ ìœ„ì¹˜ì˜ ì¼ê´€ì„±ì„ ì§€í‚¤ëŠ” ê²ƒì´ ì¢‹ë‹¤.

ì œë„ˆë ˆì´í„° í•¨ìˆ˜ëŠ” **í™”ì‚´í‘œ í•¨ìˆ˜ë¡œ ì •ì˜í•  ìˆ˜ ì—†ê³ , `new` ì—°ì‚°ìžì™€ í•¨ê»˜ ìƒì„±ìž í•¨ìˆ˜ë¡œ í˜¸ì¶œí•  ìˆ˜ ì—†ë‹¤.**

## ðŸ”– ì œë„ˆë ˆì´í„° ê°ì²´
ì œë„ˆë ˆì´í„° í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ë©´, ì œë„ˆë ˆì´í„° ê°ì²´ë¥¼ ìƒì„±í•˜ì—¬ ë°˜í™˜í•œë‹¤. 

ë°˜í™˜ëœ ì œë„ˆë ˆì´í„° ê°ì²´ëŠ” `Symbol.iterator` ë©”ì„œë“œë¥¼ ìƒì† ë°›ëŠ” **ì´í„°ëŸ¬ë¸”**ì´ë©´ì„œ, ë™ì‹œì— `value`, `done` í”„ë¡œí¼í‹°ë¥¼ ê°–ëŠ” ê°ì²´ë¥¼ ë°˜í™˜í•˜ëŠ” `next` ë©”ì„œë“œë¥¼ ê°€ì§„ **ì´í„°ë ˆì´í„°**ë‹¤.

```js
function* genFunc() {
    yield 1;
    yield 2;
    yield 3;
}

// ì œë„ˆë ˆì´í„° ê°ì²´ê°€ ë°˜í™˜ë¨
const generator = genFunc();

// ì´í„°ëŸ¬ë¸”
console.log(Symbold.iterator in generator); // true

// ì´í„°ë ˆì´í„°
console.log('next' in generator); // true
```

ì œë„ˆë ˆì´í„° ê°ì²´ëŠ” `return`, `throw` ë©”ì„œë“œë„ ê°–ëŠ”ë‹¤. ì œë„ˆë ˆì´í„° ê°ì²´ê°€ ê°–ëŠ” ì„¸ ê°œì˜ ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ë©´ ë‹¤ìŒê³¼ ê°™ì´ ë™ìž‘í•œë‹¤.

1. `next` : ì œë„ˆë ˆì´í„° í•¨ìˆ˜ì˜ `yield` í‘œí˜„ì‹ê¹Œì§€ ì½”ë“œ ì‹¤í–‰, `yield`ëœ ê°’ì„ `value` í”„ë¡œí¼í‹° ê°’ ë¡œ, `false`ë¥¼ `done` í”„ë¡œí¼í‹° ê°’ìœ¼ë¡œ ê°–ëŠ” ì´í„°ë ˆì´í„° ë¦¬ì ˆíŠ¸ ê°ì²´ ë°˜í™˜
```js
console.log(generator.next()); // { value: 1, done: false }
```
2. `return` : ì¸ìˆ˜ë¡œ ì „ë‹¬ ë°›ì€ ê°’ì„ `value` í”„ë¡œí¼í‹° ê°’ìœ¼ë¡œ, `true`ë¥¼ `done` í”„ë¡œí¼í‹° ê°’ìœ¼ë¡œ ê°–ëŠ” ì´í„°ë ˆì´í„° ë¦¬ì ˆíŠ¸ ê°ì²´ ë°˜í™˜
```js
console.log(generator.next("End")); // { value: "End", done: true }
```
3. `throw` : ì¸ìˆ˜ë¡œ ì „ë‹¬ë°›ì€ ì—ëŸ¬ë¥¼ ë°œìƒì‹œí‚¤ê³  `undefined`ë¥¼ í”„ë¡œí¼í‹° ê°’ìœ¼ë¡œ, `true`ë¥¼ `done` í”„ë¡œí¼í‹° ê°’ìœ¼ë¡œ ê°–ëŠ” ì´í„°ë ˆì´í„° ë¦¬ì ˆíŠ¸ ê°ì²´ ë°˜í™˜
```js
console.log(generator.throw('error')); // { value: undefined, done: true }
```

## ðŸ”– ì œë„ˆë ˆì´í„°ì˜ ì¼ì‹œ ì¤‘ì§€ì™€ ìž¬ê°œ
ì œë„ˆë ˆì´í„° í•¨ìˆ˜ì˜ íŠ¹ì§•ìœ¼ë¡œ, `yeild` í‚¤ì›Œë“œì™€ `next` ë©”ì„œë“œë¥¼ ì´ìš©í•´ **ì‹¤í–‰ì„ ì¼ì§€ ì¤‘ì§€í–ˆë‹¤ê°€ í•„ìš”í•œ ì‹œì ì— ë‹¤ì‹œ ìž¬ê°œ**í•  ìˆ˜ ìžˆë‹¤.

ì œë„ˆë ˆì´í„° í•¨ìˆ˜ ì‹¤í–‰ ì‹œ, ì¼ë°˜ í•¨ìˆ˜ì²˜ëŸ¼ ì½”ë“œ ë¸”ë¡ì´ ì‹¤í–‰ë˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ ì œë„ˆë ˆì´í„° ê°ì²´ë¥¼ ë°˜í™˜í•˜ê²Œ ëœë‹¤. ì½”ë“œ ì‹¤í–‰ì€ `yield` í‘œí˜„ì‹ê¹Œì§€ë§Œ ì‹¤í–‰í•œë‹¤. ì´ í‚¤ì›Œë“œëŠ” ì œë„ˆë ˆì´í„° í•¨ìˆ˜ì˜ ì‹¤í–‰ì„ ì¼ì‹œ ì¤‘ì§€ì‹œí‚¤ê±°ë‚˜, í‚¤ì›Œë“œ ë’¤ì— ì˜¤ëŠ” í‘œí˜„ì‹ì˜ í‰ê°€ ê²°ê³¼ë¥¼ í•¨ìˆ˜ í˜¸ì¶œìžì—ê²Œ ë°˜í™˜í•œë‹¤.

```js
function* genFunc() {
    yield 1;
    const x = yield (x + 1);
    const y = yield (x + 2);

    return x + y;
}
```

ìœ„ì™€ ê°™ì€ ì œë„ˆë ˆì´í„° í•¨ìˆ˜ê°€ ìžˆë‹¤.

`yield` í‚¤ì›Œë“œë¥¼ ê¸°ì ìœ¼ë¡œ í•¨ìˆ˜ë¥¼ ì¼ì‹œ ì¤‘ì§€í•˜ê³  ìž¬ê°œí•  ìˆ˜ ìžˆë‹¤.

```js
const generator = genFunc();

// ë°˜í™˜ë˜ëŠ” ë¦¬ì ˆíŠ¸ ê°ì²´ëŠ” value, doneìœ¼ë¡œ êµ¬ì„±ë¨
console.log(generator.next()); // 1, false 
console.log(generator.next(2)); // 3, false
console.log(generator.next(3)); // 5, false
console.log(generator.next()); // 8, true
```

## ðŸ”– ì œë„ˆë ˆì´í„°ì˜ í™œìš©
### ðŸ“ ì´í„°ëŸ¬ë¸”ì˜ êµ¬í˜„
ì œë„ˆë ˆì´í„°ëŠ” ì´í„°ëŸ¬ë¸”ì´ìž ì´í„°ë ˆì´í„°ì´ë¯€ë¡œ, ì œë„ˆë ˆì´í„°ì˜ ì´í„°ë ˆì´í„° í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ë©´ ì´í„°ëŸ¬ë¸”ì„ êµ¬í˜„í•  ìˆ˜ ìžˆë‹¤.

ë‹¤ìŒì€ ë¬´í•œ í”¼ë³´ë‚˜ì¹˜ ì´í„°ëŸ¬ë¸”ì„ ìƒì„±í•˜ëŠ” í•¨ìˆ˜ì´ë‹¤.

```js
const infiniteFibonacci = (function* () {
    le [pre, cur] = [0, 1];

    while (true) {
        [pre, cur] = [cur, pre + cur];
        yield cur;
    }
}());

for (const num of infiniteFibonacci) {
    if (num > 10000) break;
    console.log(num);
}
```

### ðŸ“ ë¹„ë™ê¸° ì²˜ë¦¬
ì¼ì‹œ ì •ì§€ ë° ìž¬ê°œê°€ ê°€ëŠ¥í•œ ì œë„ˆë ˆì´í„°ì˜ íŠ¹ì„±ì„ ì´ìš©í•˜ë©´, `yield` í‘œí˜„ì‹ê³¼ `next` ë©”ì„œë“œë¥¼ í†µí•´ ë¹„ë™ê¸° ì²˜ë¦¬ ì½”ë“œë¥¼ êµ¬í˜„í•  ìˆ˜ë„ ìžˆë‹¤.

```js
const fetch = require('node-fetch');

const async = (generatorFunc) => {
    const generator = generatorFunc();

    // í´ë¡œì € í•¨ìˆ˜
    const onResolved = (arg) => {
        const result = generator.next(arg);

        return result.done
            ? result.value
            : result.value
                .then((res) => onResolved(res)); // í”„ë¡œë¯¸ìŠ¤ ê°ì²´ë¥¼ ì£¼ê³ ë°›ëŠ” ìž¬ê·€í˜¸ì¶œ
    };

    return onResolved;
};

(async(function* fetchTodo() {
    const url = "url";

    const response = yield fetch(url);
    const todo = yield response.json();
    console.log(todo);
})());
```

## ðŸ”– async/await
ì œë„ˆë ˆì´í„°ë¥¼ ì´ìš©í•œ ë¹„ë™ê¸° ì²˜ë¦¬ ì½”ë“œëŠ” ê°€ë…ì„±ì´ ë‚˜ì˜ë‹¤.

ES8ì—ì„œëŠ” ê°„ë‹¨í•˜ê³  ê°€ë…ì„± ì¢‹ê²Œ ë¹„ë™ê¸° ì²˜ë¦¬ë¥¼ ë™ê¸° ì²˜ë¦¬ì²˜ëŸ¼ êµ¬í˜„í•  ìˆ˜ ìžˆëŠ” `async/await`ê°€ ë„ìž…ë˜ì—ˆë‹¤.

ìœ„ì—ì„œ ì œë„ˆë ˆì´í„°ë¡œ êµ¬í˜„í•œ ë¹„ë™ê¸° ì˜ˆì œë¥¼ ë‹¤ì‹œ êµ¬í˜„í•´ë³´ìž.

```js
const fetch = require('node-fetch');

async function fetchTodo() {
    const url = "url";

    const response = await fetch(url);
    const todo = await response.json();
    console.log(todo);
}
```

### ðŸ“ async í•¨ìˆ˜
`await` í‚¤ì›Œë“œëŠ” ë°˜ë“œì‹œ `async` í•¨ìˆ˜ ë‚´ë¶€ì—ì„œ ì‚¬ìš©í•´ì•¼ í•œë‹¤.

`async` í•¨ìˆ˜ëŠ” ì–¸ì œë‚˜ ì•”ë¬µì ìœ¼ë¡œ ë°˜í™˜ê°’ì„ resolveí•˜ëŠ” í”„ë¡œë¯¸ìŠ¤ë¥¼ ë°˜í™˜í•œë‹¤.

class ë‚´ë¶€ì˜ constructor ë©”ì„œë“œëŠ” ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë°˜í™˜í•´ì•¼ í•˜ë¯€ë¡œ `async` ë©”ì„œë“œê°€ ë  ìˆ˜ ì—†ë‹¤.

```js
async function foo (n) { return n; }
foo(1).then((v) => console.log(v)); // output: 1
```

### ðŸ“ await í•¨ìˆ˜
`await` í‚¤ì›Œë“œëŠ” í”„ë¡œë¯¸ìŠ¤ê°€ settled ìƒíƒœê°€ ë  ë•Œê¹Œì§€ ëŒ€ê¸°í•œ í›„, settled ìƒíƒœê°€ ë˜ë©´ í”„ë¡œë¯¸ìŠ¤ê°€ resolveí•œ ì²˜ë¦¬ ê²°ê³¼ë¥¼ ë°˜í™˜í•œë‹¤. í”„ë¡œë¯¸ìŠ¤ë¥¼ ë°˜í™˜í•˜ëŠ” êµ¬ë¬¸ ì•žì—ì„œë§Œ ì‚¬ìš©í•  ìˆ˜ ìžˆë‹¤.

```js
const res = await fetch ('url');
const { name } = await res.json();
```

### ðŸ“ ì—ëŸ¬ ì²˜ë¦¬
ì½œë°± íŒ¨í„´ì„ ì´ìš©í•œ ë¹„ë™ê¸° ì²˜ë¦¬ëŠ” ì—ëŸ¬ë¥¼ ì²˜ë¦¬í•˜ê¸°ì— ì•„ì£¼ íž˜ë“¤ì—ˆë‹¤. ê¸°ë³¸ì ìœ¼ë¡œ ì—ëŸ¬ ì²˜ë¦¬ëŠ” try-catchë¬¸ì„ ì´ìš©í•  ìˆ˜ ìžˆëŠ”ë°, ê¸°ì¡´ ë°©ì‹ìœ¼ë¡œëŠ” í˜¸ì¶œìžê°€ ë¹„ë™ê¸° í•¨ìˆ˜ê°€ ì•„ë‹ˆì—ˆê¸°ì— ì‚¬ìš©í•  ìˆ˜ ì—†ì—ˆë‹¤.

`async/await`ì—ì„œëŠ” ì—ëŸ¬ ì²˜ë¦¬ë¡œ try-catchë¬¸ì„ ì‚¬ìš©í•  ìˆ˜ ìžˆë‹¤.

ì½œë°± í•¨ìˆ˜ë¥¼ ì¸ìˆ˜ë¡œ ì „ë‹¬ ë°›ëŠ” ë¹„ë™ê¸° í•¨ìˆ˜ì™€ ë‹¬ë¦¬, 

í”„ë¡œë¯¸ìŠ¤ë¥¼ ë°˜í™˜í•˜ëŠ” ë¹„ë™ê¸° í•¨ìˆ˜ëŠ” ëª…ì‹œì ìœ¼ë¡œ í˜¸ì¶œí•  ìˆ˜ ìžˆìœ¼ë¯€ë¡œ í˜¸ì¶œìžê°€ ëª…í™•í•˜ê¸° ë•Œë¬¸ì´ë‹¤.

```js
const foo = async () => {
    try {
        const res = await fetch(url);
        const data = await res.json();
    } catch (e) {
        console.error(e);
    }
}
```